doctype html
html(lang="en")
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")
    title= title || "Get Sober Spokane"
    meta(name="description" content=description || "Recovery support community in Spokane, WA")
    
    // Bootstrap Icons
    link(href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet")
    // Google fonts
    link(href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet")
    link(href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css")
    // Core theme CSS (includes Bootstrap)
    link(href="/css/styles.css" rel="stylesheet")
    
    style.
      /* Professional navigation styling */
      .navbar.navbar-light .navbar-nav .nav-link {
        color: #333 !important;
        font-weight: 500;
        position: relative;
        transition: all 0.3s ease;
      }
      
      .navbar.navbar-light .navbar-nav .nav-link:hover {
        color: #007bff !important;
        transform: translateY(-1px);
      }
      
      .navbar.navbar-light .navbar-nav .nav-link.active {
        color: #007bff !important;
        background-color: rgba(0, 123, 255, 0.1);
        border-radius: 6px;
      }
      
      .navbar.navbar-light .navbar-brand {
        color: #333 !important;
        font-weight: 600;
      }
      
      .navbar.navbar-light .navbar-brand:hover {
        color: #007bff !important;
      }
      
      /* Ensure navbar has proper background */
      .navbar.navbar-light {
        background-color: rgba(255, 255, 255, 0.95) !important;
        backdrop-filter: blur(10px);
      }
      
      /* Professional tab styling */
      .nav-tabs {
        border-bottom: 2px solid #e9ecef;
      }
      
      .nav-tabs .nav-link {
        border: none;
        color: #6c757d;
        font-weight: 500;
        padding: 0.75rem 1.5rem;
        margin-right: 0.5rem;
        border-radius: 6px 6px 0 0;
        transition: all 0.3s ease;
      }
      
      .nav-tabs .nav-link:hover {
        border: none;
        color: #007bff;
        background-color: rgba(0, 123, 255, 0.05);
      }
      
      .nav-tabs .nav-link.active {
        color: #007bff;
        background-color: #fff;
        border: 2px solid #007bff;
        border-bottom: 2px solid #fff;
        margin-bottom: -2px;
      }
      
      /* Login button styling */
      .auth-button {
        margin-left: 1rem;
      }
      
      .auth-button .btn {
        border-radius: 6px;
        font-weight: 500;
        transition: all 0.3s ease;
      }
      
      .auth-button .btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3);
      }
      
      /* Responsive navigation */
      @media (max-width: 991.98px) {
        .navbar-nav {
          margin-top: 1rem;
        }
        
        .auth-button {
          margin-left: 0;
          margin-top: 1rem;
        }
      }
    
    block head

  body#page-top
    // Navigation
    nav.navbar.navbar-expand-lg.navbar-light.fixed-top.py-3#mainNav
      .container.px-4.px-lg-5
        a.navbar-brand.d-flex.align-items-center(href="/")
          img.logo(src="/assets/img/logo.png" alt="Get Sober Spokane Logo")
          span.ms-2 Get Sober Spokane
        button.navbar-toggler.navbar-toggler-right(type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation")
          span.navbar-toggler-icon
        .collapse.navbar-collapse#navbarResponsive
          ul.navbar-nav.ms-auto.my-2.my-lg-0
            // Main Navigation
            li.nav-item.dropdown
              a.nav-link.dropdown-toggle(href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false")
                i.bi.bi-house.me-1
                | Home
              ul.dropdown-menu
                li
                  a.dropdown-item(href="/") Home
                li
                  a.dropdown-item(href="/#about") About
                li
                  a.dropdown-item(href="/#contact") Contact
            
            // Resources & Services
            li.nav-item.dropdown
              a.nav-link.dropdown-toggle(href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false")
                i.bi.bi-heart.me-1
                | Resources
              ul.dropdown-menu
                li
                  a.dropdown-item(href="/resource-directory.html") Resource Directory
                li
                  a.dropdown-item(href="/addiction-treatments-support.html") Treatment & Support
                li
                  a.dropdown-item(href="/medical-mental-health.html") Medical & Mental Health
                li
                  a.dropdown-item(href="/shelter-housing.html") Shelter & Housing
                li
                  a.dropdown-item(href="/food-basic-needs.html") Food & Basic Needs
                li
                  a.dropdown-item(href="/employment-skills.html") Employment & Skills
            
            // Community
            li.nav-item.dropdown
              a.nav-link.dropdown-toggle(href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false")
                i.bi.bi-people.me-1
                | Community
              ul.dropdown-menu
                li
                  a.dropdown-item(href="/community-forum.html") Community Forum
                li
                  a.dropdown-item(href="/community-engagement-sober-activities.html") Sober Activities
                li
                  a.dropdown-item(href="/success-stories.html") Success Stories
            
            // Tools
            li.nav-item.dropdown
              a.nav-link.dropdown-toggle(href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false")
                i.bi.bi-tools.me-1
                | Tools
              ul.dropdown-menu
                li
                  a.dropdown-item(href="/dashboard.html") Dashboard
                li
                  a.dropdown-item(href="/map.html") Resource Map
                li
                  a.dropdown-item(href="/emergency-help.html") Emergency Help
            
            // Support
            li.nav-item.dropdown
              a.nav-link.dropdown-toggle(href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false")
                i.bi.bi-hand-heart.me-1
                | Support
              ul.dropdown-menu
                li
                  a.dropdown-item(href="/donations.html") Donations
                li
                  a.dropdown-item(href="/feedback-system.html") Feedback
            
            // Login Button
            li.nav-item.auth-button
              button.btn.btn-outline-primary.btn-sm(onclick="showAuthModal()")
                i.bi.bi-person.me-1
                | Login

    block content

    // Footer
    footer.bg-light.py-5
      .container.px-4.px-lg-5
        a(href="/")
          img.footer-logo(src="/assets/img/logo.png" alt="Get Sober Spokane Logo")
        .small.text-center.text-muted
          | Copyright Â© 2025 - Get Sober Spokane
          br
          a(href="/privacy-policy.html") Privacy Policy
          |  |
          a(href="/terms-of-service.html") Terms of Service

    // Bootstrap core JS
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js")
    // Supabase
    script(src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2")
    // Core theme JS
    script(src="/js/supabaseClient.js")
    script(src="/js/auth.js")
    script(src="/js/auth-modal.js")
    
    block scripts 